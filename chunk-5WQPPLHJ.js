import{a as ee,b as te}from"./chunk-LBHE74U5.js";import{a as Q,b as P,c as V,f as O,h as X,l as Y,n as z}from"./chunk-MF6HSJW6.js";import{A as m,Aa as h,B as g,Ea as F,Fa as H,Ga as k,H as I,Ia as s,Ja as _,K as T,Ka as C,La as K,Ma as w,Na as y,Oa as S,T as Z,V as l,Za as G,aa as v,ea as f,fb as q,gb as D,kb as b,na as c,oa as i,pa as o,pb as J,qa as E,ub as $,wa as x,y as M,ya as u}from"./chunk-3T5KDFEF.js";import"./chunk-LS4SCMUJ.js";function oe(a,t){return new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}).compare(a,t)}function ae(a,t){return[...a].sort((e,r)=>oe(t(e),t(r)))}function se(a){let t=a.replace(/\.(cbz|zip)$/i,""),e=[/ch(?:apter)?[\s._-]*(\d+(?:\.\d+)?)/i,/c(\d+(?:\.\d+)?)/i,/[\s._-](\d+(?:\.\d+)?)[\s._-]?$/,/^(\d+(?:\.\d+)?)/];for(let r of e){let n=t.match(r);if(n)return n[1]}return t}function B(a){return ae(a,t=>se(t.name))}function le(a,t){a&1&&(i(0,"span",26),s(1,"Duplikat?"),o())}function pe(a,t){if(a&1){let e=x();i(0,"div",17)(1,"span",18),s(2),o(),i(3,"span",19),s(4),f(5,le,2,0,"span",20),o(),i(6,"span",21),s(7),o(),i(8,"div",22)(9,"button",23),u("click",function(){let n=m(e).index,p=h(2);return g(p.moveUp(n))}),i(10,"span",24),s(11,"arrow_upward"),o()(),i(12,"button",23),u("click",function(){let n=m(e).index,p=h(2);return g(p.moveDown(n))}),i(13,"span",24),s(14,"arrow_downward"),o()(),i(15,"button",25),u("click",function(){let n=m(e).index,p=h(2);return g(p.removeChapter(n))}),i(16,"span",24),s(17,"close"),o()()()()}if(a&2){let e=t.$implicit,r=t.index,n=h(2);k("bg-red-500/10",e.isDuplicate),l(2),_(r+1),l(),c("title",e.name),l(),C(" ",e.name," "),l(),c("ngIf",e.isDuplicate),l(2),_(e.files.length),l(2),c("disabled",r===0),l(3),c("disabled",r===n.chapters.length-1)}}function de(a,t){if(a&1){let e=x();i(0,"div",8)(1,"div",9)(2,"span",10),s(3),o(),i(4,"div",11)(5,"button",12),u("click",function(){m(e);let n=h();return g(n.sortChapters())}),i(6,"span",13),s(7,"sort"),o()(),i(8,"button",14),u("click",function(){m(e);let n=h();return g(n.clearAll())}),i(9,"span",13),s(10,"delete"),o()()()(),i(11,"div",15),f(12,pe,18,9,"div",16),o()()}if(a&2){let e=h();l(3),K("",e.chapters.length," Kapitel (",e.getTotalImages()," Bilder)"),l(9),c("ngForOf",e.chapters)}}var L=class a{chapters=[];chaptersChange=new I;filesDropped=new I;isDragging=!1;onDragOver(t){t.preventDefault(),t.stopPropagation(),this.isDragging=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.isDragging=!1}onDrop(t){t.preventDefault(),t.stopPropagation(),this.isDragging=!1;let e=this.extractFiles(t.dataTransfer);e.length>0&&this.filesDropped.emit(e)}onFileSelect(t){let e=t.target;if(e.files&&e.files.length>0){let r=Array.from(e.files);this.filesDropped.emit(r),e.value=""}}extractFiles(t){if(!t)return[];let e=[];for(let r=0;r<t.files.length;r++){let n=t.files[r];this.isValidFile(n)&&e.push(n)}return e}isValidFile(t){let e=t.name.toLowerCase();return e.endsWith(".cbz")||e.endsWith(".zip")||e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".png")||e.endsWith(".webp")}removeChapter(t){let e=[...this.chapters];e.splice(t,1),this.chaptersChange.emit(e)}moveUp(t){if(t<=0)return;let e=[...this.chapters];[e[t-1],e[t]]=[e[t],e[t-1]],this.chaptersChange.emit(e)}moveDown(t){if(t>=this.chapters.length-1)return;let e=[...this.chapters];[e[t],e[t+1]]=[e[t+1],e[t]],this.chaptersChange.emit(e)}sortChapters(){let t=B(this.chapters);this.chaptersChange.emit(t)}clearAll(){this.chaptersChange.emit([])}getTotalImages(){return this.chapters.reduce((t,e)=>t+e.files.length,0)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=v({type:a,selectors:[["app-chapter-selection"]],inputs:{chapters:"chapters"},outputs:{chaptersChange:"chaptersChange",filesDropped:"filesDropped"},decls:11,vars:5,consts:[["fileInput",""],[1,"flex","flex-col","gap-4"],[1,"border-2","border-dashed","border-dash-border","rounded-sm","p-6","text-center","cursor-pointer","transition-all","duration-200","hover:border-dash-accent","hover:bg-dash-bg/50",3,"dragover","dragleave","drop","click"],[1,"material-symbols-sharp","text-3xl","text-dash-text-dim","mb-2","block"],[1,"text-sm","text-dash-text-dim"],[1,"text-xs","text-dash-text-dim/50","mt-1"],["type","file","accept",".cbz,.zip,.jpg,.jpeg,.png,.webp","multiple","",1,"hidden",3,"change"],["class","flex flex-col",4,"ngIf"],[1,"flex","flex-col"],[1,"flex","justify-between","items-center","p-3","bg-dash-bg","rounded-t-sm","border-b","border-dash-border"],[1,"text-sm","font-medium","text-dash-text"],[1,"flex","gap-2"],["title","Auto-Sortieren",1,"p-1.5","rounded-sm","hover:bg-dash-border","text-dash-text-dim","hover:text-white","transition-colors",3,"click"],[1,"material-symbols-sharp","text-lg"],["title","Alle l\xF6schen",1,"p-1.5","rounded-sm","hover:bg-red-500/20","text-dash-text-dim","hover:text-red-500","transition-colors",3,"click"],[1,"max-h-[300px]","overflow-y-auto","bg-dash-bg/50","rounded-b-sm"],["class","flex items-center gap-3 p-3 border-b border-dash-border last:border-0 hover:bg-dash-card-hover transition-colors",3,"bg-red-500/10",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-3","p-3","border-b","border-dash-border","last:border-0","hover:bg-dash-card-hover","transition-colors"],[1,"text-xs","text-dash-text-dim","w-6","text-center","font-mono"],[1,"flex-1","text-sm","text-dash-text","truncate",3,"title"],["class","ml-2 px-1.5 py-0.5 text-[10px] bg-red-500/20 text-red-400 rounded",4,"ngIf"],[1,"text-xs","text-dash-text-dim","font-mono"],[1,"flex","gap-1"],[1,"p-1","rounded","hover:bg-dash-border","text-dash-text-dim","hover:text-white","transition-colors","disabled:opacity-30","disabled:cursor-not-allowed",3,"click","disabled"],[1,"material-symbols-sharp","text-sm"],[1,"p-1","rounded","hover:bg-red-500/20","text-dash-text-dim","hover:text-red-500","transition-colors",3,"click"],[1,"ml-2","px-1.5","py-0.5","text-[10px]","bg-red-500/20","text-red-400","rounded"]],template:function(e,r){if(e&1){let n=x();i(0,"div",1)(1,"div",2),u("dragover",function(d){return m(n),g(r.onDragOver(d))})("dragleave",function(d){return m(n),g(r.onDragLeave(d))})("drop",function(d){return m(n),g(r.onDrop(d))})("click",function(){m(n);let d=F(9);return g(d.click())}),i(2,"span",3),s(3,"upload_file"),o(),i(4,"p",4),s(5,"CBZ, ZIP oder Bilder hierher ziehen"),o(),i(6,"p",5),s(7,"oder klicken zum Ausw\xE4hlen"),o(),i(8,"input",6,0),u("change",function(d){return m(n),g(r.onFileSelect(d))}),o()(),f(10,de,13,3,"div",7),o()}e&2&&(l(),k("border-dash-accent",r.isDragging)("bg-dash-accent/10",r.isDragging),l(9),c("ngIf",r.chapters.length>0))},dependencies:[b,q,D],encapsulation:2})};function me(a,t){if(a&1){let e=x();i(0,"div",15),E(1,"img",16),i(2,"button",17),u("click",function(){m(e);let n=h();return g(n.removeCover())}),i(3,"span",4),s(4,"close"),o()()()}if(a&2){let e=h();l(),c("src",e.cover.previewUrl,Z)}}function ge(a,t){if(a&1){let e=x();i(0,"div",18),u("drop",function(n){m(e);let p=h();return g(p.onDrop(n))})("dragover",function(n){m(e);let p=h();return g(p.onDragOver(n))})("click",function(){m(e);let n=F(6);return g(n.click())}),i(1,"span",19),s(2,"add_photo_alternate"),o(),i(3,"span",20),s(4,"Bild w\xE4hlen oder hierher ziehen"),o(),i(5,"input",21,1),u("change",function(n){m(e);let p=h();return g(p.onFileSelect(n))}),o()()}}function he(a,t){if(a&1){let e=x();i(0,"button",27),u("click",function(){m(e);let n=h(2);return g(n.applyResize())}),s(1," Anwenden "),o()}}function ue(a,t){if(a&1){let e=x();i(0,"div",22)(1,"input",23),S("ngModelChange",function(n){m(e);let p=h();return y(p.resizeOptions.width,n)||(p.resizeOptions.width=n),g(n)}),o(),i(2,"span",24),s(3,"\xD7"),o(),i(4,"input",25),S("ngModelChange",function(n){m(e);let p=h();return y(p.resizeOptions.height,n)||(p.resizeOptions.height=n),g(n)}),o(),f(5,he,2,0,"button",26),o()}if(a&2){let e=h();l(),w("ngModel",e.resizeOptions.width),l(3),w("ngModel",e.resizeOptions.height),l(),c("ngIf",e.cover)}}function fe(a,t){if(a&1&&(i(0,"div",28),s(1),o()),a&2){let e=h();l(),C(" ",e.errorMessage," ")}}function xe(a,t){a&1&&(i(0,"div",29)(1,"span",30),s(2,"refresh"),o(),s(3," Laden... "),o())}var A=class a{imageOptimiser=M(te);cover=null;coverChange=new I;resizeOptions={enabled:!1,width:1072,height:1448};urlInput="";isLoading=!1;errorMessage="";ngOnDestroy(){this.cover?.previewUrl&&this.imageOptimiser.revokeObjectUrl(this.cover.previewUrl)}async onFileSelect(t){let e=t.target;!e.files||e.files.length===0||(await this.processFile(e.files[0]),e.value="")}async onDrop(t){t.preventDefault(),t.stopPropagation();let e=t.dataTransfer?.files[0];e&&e.type.startsWith("image/")&&await this.processFile(e)}onDragOver(t){t.preventDefault(),t.stopPropagation()}async loadFromUrl(){if(this.urlInput.trim()){this.isLoading=!0,this.errorMessage="";try{let t=await this.imageOptimiser.fetchImageFromUrl(this.urlInput);await this.setCover(t,"cover_from_url.jpg"),this.urlInput=""}catch{this.errorMessage="Bild konnte nicht geladen werden"}finally{this.isLoading=!1}}}async processFile(t){this.isLoading=!0,this.errorMessage="";try{let e=t;this.resizeOptions.enabled&&this.resizeOptions.width&&this.resizeOptions.height&&(e=await this.imageOptimiser.resizeImage(t,{width:this.resizeOptions.width,height:this.resizeOptions.height,maintainAspectRatio:!0})),await this.setCover(e,t.name)}catch{this.errorMessage="Fehler beim Verarbeiten des Bildes"}finally{this.isLoading=!1}}async setCover(t,e){this.cover?.previewUrl&&this.imageOptimiser.revokeObjectUrl(this.cover.previewUrl);let r=this.imageOptimiser.createObjectUrl(t);this.cover={blob:t,previewUrl:r,name:e},this.coverChange.emit(this.cover)}removeCover(){this.cover?.previewUrl&&this.imageOptimiser.revokeObjectUrl(this.cover.previewUrl),this.cover=null,this.coverChange.emit(null)}async applyResize(){if(!(!this.cover||!this.resizeOptions.enabled)){this.isLoading=!0;try{let t=await this.imageOptimiser.resizeImage(this.cover.blob,{width:this.resizeOptions.width,height:this.resizeOptions.height,maintainAspectRatio:!0});await this.setCover(t,this.cover.name)}catch{this.errorMessage="Fehler beim Skalieren"}finally{this.isLoading=!1}}}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=v({type:a,selectors:[["app-cover-management"]],inputs:{cover:"cover"},outputs:{coverChange:"coverChange"},decls:21,vars:8,consts:[["noCover",""],["fileInput",""],[1,"flex","flex-col","gap-3"],[1,"flex","items-center","gap-2","text-xs","font-bold","text-dash-text-dim","uppercase","tracking-wider"],[1,"material-symbols-sharp","text-sm"],["class","relative flex justify-center bg-dash-bg rounded-sm p-3",4,"ngIf","ngIfElse"],[1,"flex","gap-2"],["type","text","placeholder","Oder URL eingeben...",1,"flex-1","bg-dash-bg","border","border-dash-border","text-dash-text","px-3","py-2","rounded-sm","focus:outline-none","focus:border-dash-accent","text-xs",3,"ngModelChange","keyup.enter","ngModel"],[1,"px-3","py-2","gradient-btn","text-white","rounded-sm","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"flex","flex-col","gap-2"],[1,"flex","items-center","gap-2","text-xs","text-dash-text-dim","cursor-pointer"],["type","checkbox",1,"accent-dash-accent",3,"ngModelChange","ngModel"],["class","flex items-center gap-2 text-xs",4,"ngIf"],["class","text-xs text-red-400 flex items-center gap-2",4,"ngIf"],["class","text-xs text-dash-accent flex items-center gap-2",4,"ngIf"],[1,"relative","flex","justify-center","bg-dash-bg","rounded-sm","p-3"],["alt","Cover Preview",1,"max-w-full","max-h-[200px]","object-contain","rounded-sm",3,"src"],["title","Cover entfernen",1,"absolute","top-2","right-2","w-6","h-6","bg-red-500/80","hover:bg-red-500","rounded-full","flex","items-center","justify-center","text-white","transition-colors",3,"click"],[1,"border-2","border-dashed","border-dash-border","rounded-sm","p-6","text-center","cursor-pointer","transition-all","duration-200","hover:border-dash-accent","hover:bg-dash-bg/50",3,"drop","dragover","click"],[1,"material-symbols-sharp","text-2xl","text-dash-text-dim","mb-2","block"],[1,"text-xs","text-dash-text-dim"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"flex","items-center","gap-2","text-xs"],["type","number","placeholder","Breite","min","1",1,"w-20","bg-dash-bg","border","border-dash-border","text-dash-text","px-2","py-1.5","rounded-sm","focus:outline-none","focus:border-dash-accent","text-center",3,"ngModelChange","ngModel"],[1,"text-dash-text-dim"],["type","number","placeholder","H\xF6he","min","1",1,"w-20","bg-dash-bg","border","border-dash-border","text-dash-text","px-2","py-1.5","rounded-sm","focus:outline-none","focus:border-dash-accent","text-center",3,"ngModelChange","ngModel"],["class","px-2 py-1.5 gradient-btn text-white rounded-sm text-xs",3,"click",4,"ngIf"],[1,"px-2","py-1.5","gradient-btn","text-white","rounded-sm","text-xs",3,"click"],[1,"text-xs","text-red-400","flex","items-center","gap-2"],[1,"text-xs","text-dash-accent","flex","items-center","gap-2"],[1,"material-symbols-sharp","text-sm","animate-spin"]],template:function(e,r){if(e&1){let n=x();i(0,"div",2)(1,"h3",3)(2,"span",4),s(3,"image"),o(),s(4," Cover "),o(),f(5,me,5,1,"div",5)(6,ge,7,0,"ng-template",null,0,G),i(8,"div",6)(9,"input",7),S("ngModelChange",function(d){return m(n),y(r.urlInput,d)||(r.urlInput=d),g(d)}),u("keyup.enter",function(){return m(n),g(r.loadFromUrl())}),o(),i(10,"button",8),u("click",function(){return m(n),g(r.loadFromUrl())}),i(11,"span",4),s(12,"download"),o()()(),i(13,"div",9)(14,"label",10)(15,"input",11),S("ngModelChange",function(d){return m(n),y(r.resizeOptions.enabled,d)||(r.resizeOptions.enabled=d),g(d)}),o(),i(16,"span"),s(17,"Gr\xF6\xDFe anpassen"),o()(),f(18,ue,6,3,"div",12),o(),f(19,fe,2,1,"div",13)(20,xe,4,0,"div",14),o()}if(e&2){let n=F(7);l(5),c("ngIf",r.cover)("ngIfElse",n),l(4),w("ngModel",r.urlInput),l(),c("disabled",!r.urlInput.trim()||r.isLoading),l(5),w("ngModel",r.resizeOptions.enabled),l(3),c("ngIf",r.resizeOptions.enabled),l(),c("ngIf",r.errorMessage),l(),c("ngIf",r.isLoading)}},dependencies:[b,D,z,P,X,Q,V,Y,O],encapsulation:2})};function ve(a,t){if(a&1&&(i(0,"div",8),E(1,"div",9),o()),a&2){let e=h(2);l(),H("width",e.progress.progress,"%")}}function _e(a,t){if(a&1&&(i(0,"span",10),s(1),o()),a&2){let e=h(2);l(),C(" ",e.progress.progress,"% ")}}function be(a,t){if(a&1&&(i(0,"div",1)(1,"div",2)(2,"span",3),s(3),o(),i(4,"div",4)(5,"span",5),s(6),o(),f(7,ve,2,2,"div",6),o(),f(8,_e,2,1,"span",7),o()()),a&2){let e=h();l(),k("border-green-500",e.isComplete)("bg-green-500/10",e.isComplete)("border-red-500",e.isError)("bg-red-500/10",e.isError),l(),k("text-dash-accent",e.isActive)("animate-spin",e.isActive)("text-green-500",e.isComplete)("text-red-500",e.isError),l(),C(" ",e.statusIcon," "),l(3),_(e.progress.message),l(),c("ngIf",e.isActive),l(),c("ngIf",e.isActive)}}var U=class a{progress={status:"idle",message:"",progress:0};get isActive(){return this.progress.status!=="idle"&&this.progress.status!=="complete"}get isComplete(){return this.progress.status==="complete"}get isError(){return this.progress.status==="error"}get statusIcon(){switch(this.progress.status){case"extracting":return"folder_open";case"processing":return"settings";case"compressing":return"compress";case"complete":return"check_circle";case"error":return"error";default:return"hourglass_empty"}}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=v({type:a,selectors:[["app-progress-feedback"]],inputs:{progress:"progress"},decls:1,vars:1,consts:[["class","fixed bottom-6 left-1/2 -translate-x-1/2 z-[100]",4,"ngIf"],[1,"fixed","bottom-6","left-1/2","-translate-x-1/2","z-[100]"],[1,"flex","items-center","gap-3","gradient-card","border","border-dash-border","rounded-sm","px-4","py-3","shadow-2xl","min-w-[300px]"],[1,"material-symbols-sharp","text-xl"],[1,"flex-1","flex","flex-col","gap-1"],[1,"text-sm","text-dash-text"],["class","h-1 bg-dash-border rounded-full overflow-hidden",4,"ngIf"],["class","text-xs text-dash-text-dim min-w-[2.5rem] text-right font-mono",4,"ngIf"],[1,"h-1","bg-dash-border","rounded-full","overflow-hidden"],[1,"h-full","bg-dash-accent","rounded-full","transition-all"],[1,"text-xs","text-dash-text-dim","min-w-[2.5rem]","text-right","font-mono"]],template:function(e,r){e&1&&f(0,be,9,20,"div",0),e&2&&c("ngIf",r.isActive||r.isComplete||r.isError)},dependencies:[b,D],encapsulation:2})};var ie=class a{fileProcessor=M(ee);router=M(J);sidebarService=M($);chapters=T([],{});cover=T(null,{});progress=T({status:"idle",message:"",progress:0},{});isProcessing=!1;outputFilename="manga_merged.cbz";constructor(){this.fileProcessor.progress$.subscribe(t=>this.progress.set(t))}toggleSidebar(){this.sidebarService.toggle()}async onFilesDropped(t){this.isProcessing=!0;try{let e=[];for(let d of t){let R=d.name.toLowerCase();if(R.endsWith(".cbz")||R.endsWith(".zip")){let j=await this.fileProcessor.extractArchive(d);e.push({name:d.name,files:j})}else{let j=await d.arrayBuffer(),ne={name:d.name,files:[{name:d.name,data:j,type:d.type||"image/jpeg"}]};e.push(ne)}}let r=[...this.chapters(),...e],n=B(r),p=this.fileProcessor.detectDuplicates(n);this.chapters.set(p)}catch(e){console.error("Error processing files:",e)}finally{this.isProcessing=!1,this.fileProcessor.resetProgress()}}onChaptersChange(t){this.chapters.set(this.fileProcessor.detectDuplicates(t))}onCoverChange(t){this.cover.set(t)}canMerge(){return this.chapters().length>0&&!this.isProcessing}async mergeCBZ(){if(this.canMerge()){this.isProcessing=!0;try{let t=[];for(let n of this.chapters())for(let p of n.files)t.push({name:p.name,data:p.data});let e=this.cover(),r=await this.fileProcessor.createCBZ(t,void 0,e?{data:e.blob,name:"cover.jpg"}:void 0);this.downloadBlob(r,this.outputFilename),setTimeout(()=>{this.fileProcessor.resetProgress()},2e3)}catch(t){console.error("Error creating CBZ:",t)}finally{this.isProcessing=!1}}}downloadBlob(t,e){let r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=e,n.click(),URL.revokeObjectURL(r)}openReader(){this.router.navigate(["/manga-reader"])}clearAll(){this.chapters.set([]),this.cover.set(null),this.outputFilename="manga_merged.cbz"}getTotalImageCount(){return this.chapters().reduce((t,e)=>t+e.files.length,0)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=v({type:a,selectors:[["app-manga-builder-page"]],decls:49,vars:8,consts:[[1,"min-h-screen","text-dash-text","p-4","md:p-8","font-sans","selection:bg-dash-accent","selection:text-white","pb-16"],[1,"max-w-7xl","mx-auto","grid","grid-cols-1","md:grid-cols-12","gap-4"],[1,"md:col-span-12","flex","items-center","justify-between","gradient-header","p-3","md:p-4","rounded-sm","sticky","top-0","z-50","shadow-lg"],[1,"flex","items-center","gap-2","md:gap-4"],["title","Menu",1,"w-10","h-10","bg-dash-bg","rounded-sm","flex","items-center","justify-center","hover:bg-dash-accent","cursor-pointer","text-dash-text-dim","hover:text-white","transition-all",3,"click"],[1,"material-symbols-sharp","text-xl"],[1,"text-xs","md:text-sm","font-bold","tracking-widest","text-dash-text-dim","uppercase"],[1,"flex","gap-2","md:gap-4","text-xs","font-mono","text-dash-text-dim","items-center"],[1,"hidden","sm:block"],[1,"text-white"],[1,"px-3","py-2","bg-dash-bg","rounded-sm","flex","items-center","gap-2","hover:bg-dash-accent","cursor-pointer","text-dash-text-dim","hover:text-white","transition-all","text-xs",3,"click"],[1,"material-symbols-sharp","text-sm"],[1,"hidden","md:inline"],[1,"md:col-span-8","lg:col-span-9","flex","flex-col","gap-4","order-2","md:order-1"],[1,"gradient-card","p-4","rounded-sm"],[1,"text-xs","font-bold","text-dash-text-dim","uppercase","mb-3","tracking-wider"],[3,"chaptersChange","filesDropped","chapters"],[1,"md:col-span-4","lg:col-span-3","flex","flex-col","gap-4","order-1","md:order-2"],[3,"coverChange","cover"],[1,"flex","flex-col","gap-3"],[1,"flex","flex-col","gap-1"],["for","filename",1,"text-xs","text-dash-text-dim"],["type","text","id","filename","placeholder","manga_merged.cbz",1,"w-full","bg-dash-bg","border","border-dash-border","text-dash-text","px-3","py-2","rounded-sm","focus:outline-none","focus:border-dash-accent","text-sm",3,"ngModelChange","ngModel"],[1,"flex","gap-2"],[1,"flex-1","flex","items-center","justify-center","gap-2","px-3","py-2","bg-dash-bg","border","border-dash-border","hover:border-red-500","text-dash-text-dim","hover:text-red-500","rounded-sm","transition-colors","text-xs","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"flex-1","gradient-btn","text-white","px-3","py-2","rounded-sm","text-xs","font-medium","flex","items-center","justify-center","gap-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[3,"progress"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"div",1)(2,"header",2)(3,"div",3)(4,"button",4),u("click",function(){return r.toggleSidebar()}),i(5,"span",5),s(6,"menu"),o()(),i(7,"h1",6),s(8,"MangaBuilder"),o()(),i(9,"div",7)(10,"div",8),s(11,"KAPITEL "),i(12,"span",9),s(13),o()(),i(14,"div",8),s(15,"BILDER "),i(16,"span",9),s(17),o()(),i(18,"button",10),u("click",function(){return r.openReader()}),i(19,"span",11),s(20,"chrome_reader_mode"),o(),i(21,"span",12),s(22,"Reader"),o()()()(),i(23,"main",13)(24,"div",14)(25,"h2",15),s(26,"Kapitel hinzuf\xFCgen"),o(),i(27,"app-chapter-selection",16),u("chaptersChange",function(p){return r.onChaptersChange(p)})("filesDropped",function(p){return r.onFilesDropped(p)}),o()()(),i(28,"aside",17)(29,"div",14)(30,"app-cover-management",18),u("coverChange",function(p){return r.onCoverChange(p)}),o()(),i(31,"div",14)(32,"h2",15),s(33,"Ausgabe"),o(),i(34,"div",19)(35,"div",20)(36,"label",21),s(37,"Dateiname"),o(),i(38,"input",22),S("ngModelChange",function(p){return y(r.outputFilename,p)||(r.outputFilename=p),p}),o()(),i(39,"div",23)(40,"button",24),u("click",function(){return r.clearAll()}),i(41,"span",11),s(42,"delete"),o(),s(43," L\xF6schen "),o(),i(44,"button",25),u("click",function(){return r.mergeCBZ()}),i(45,"span",11),s(46,"merge"),o(),s(47," CBZ erstellen "),o()()()()()(),E(48,"app-progress-feedback",26),o()),e&2&&(l(13),_(r.chapters().length),l(4),_(r.getTotalImageCount()),l(10),c("chapters",r.chapters()),l(3),c("cover",r.cover()),l(8),w("ngModel",r.outputFilename),l(2),c("disabled",r.chapters().length===0),l(4),c("disabled",!r.canMerge()),l(4),c("progress",r.progress()))},dependencies:[b,z,P,V,O,L,A,U],encapsulation:2})};export{ie as MangaBuilderPage};
